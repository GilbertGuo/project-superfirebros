<div class="container">
  <form [formGroup]="registerForm" (ngSubmit)="onSubmit(type)" class="nes-container is-rounded with-title">
    <p class="title">Register</p>
    <div class="container2">

      <div class="nes-field is-inline">
        <label for="inline_field">username</label>
        <input knifeAlphanumeric knifeNoSpaces formControlName="username" type="text" id="inline_field"
               class="nes-input is-success"
               placeholder="player name">
      </div>
      <div *ngIf="submitted && registerForm.controls.username.errors" class="error">
        <div *ngIf="registerForm.controls.username.errors.required" class="error">
          Username is required
        </div>
        <div *ngIf="registerForm.controls.password.errors.minlength" class="error">
          Username is too short(at least 6 characters)
        </div>
      </div>

      <div class="nes-field is-inline">
        <label for="email_field">email</label>
        <input knifeNoSpaces oninput="this.value = this.value.toLowerCase()" formControlName="email" type="email" id="email_field" class="nes-input is-success"
               placeholder="player email">
      </div>
      <div *ngIf="submitted && registerForm.controls.email.errors" class="error">
        <div *ngIf="registerForm.controls.email.errors.required" class="error">
          email is required.
        </div>
        <div *ngIf="registerForm.controls.email.errors.email" class="error">
          Yo. your email is invalid.
        </div>
      </div>

      <div class="nes-field is-inline">
        <label for="warning_field">password</label>
        <input knifeAlphanumeric  knifeNoSpaces formControlName="password" type="password" id="warning_field"
               class="nes-input is-warning"
               placeholder="player password">
      </div>
      <div *ngIf="submitted && registerForm.controls.password.errors" class="error">
        <div *ngIf="registerForm.controls.password.errors.required" class="error">
          Passowrd is required.
        </div>
        <div *ngIf="registerForm.controls.password.errors.minlength" class="error">
          Password is too short(at least 6 characters)
        </div>
      </div>

      <div class="nes-field is-inline">
        <label for="warning_field">code</label>
        <input  knifeAlphanumeric knifeNoSpaces formControlName="code" type="text" id="code" class="nes-input is-warning" placeholder="verification code">
      </div>
      <div *ngIf="submitted && (registerForm.controls.password.errors || registerForm.controls.email.errors || registerForm.controls.username.errors)" class="error">
        <div *ngIf="registerForm.controls.code.errors.required" class="error">
          Email verification is required.
        </div>
      </div>
      <button type="button" class="nes-btn is-primary" (click)="onSubmit('verify')">Verify</button>
      <button type="submit" (click)="onSubmit('register')" class="nes-btn is-primary">Register</button>
    </div>
  </form>
</div>

